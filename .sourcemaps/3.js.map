{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAEZ;AAapC,IAAa,eAAe;IAA5B;IAA+B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAnB,eAAe;IAX3B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,yDAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;SACpC;QACD,OAAO,EAAE;YACP,yDAAS;SACV;KACF,CAAC;GACW,eAAe,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;AChBc;AACmD;AACpD;AAC2B;AACiB;AAOrF,IAAa,SAAS;IAIrB,mBAAoB,WAA8B,EAAS,SAA0B,EAAU,OAAyB,EAAS,WAAwB,EAAU,OAAgB,EAAS,OAAsB;QAAlN,iBAiBC;QAjBmB,gBAAW,GAAX,WAAW,CAAmB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,YAAO,GAAP,OAAO,CAAkB;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAU,YAAO,GAAP,OAAO,CAAS;QAAS,YAAO,GAAP,OAAO,CAAe;QACjN,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACpC,EAAE,EAAE,GAAG,IAAI,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC7B,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACpC,CAAC;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAErB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACzC,iSAAiS;YACjS,GAAG,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YAC9B,EAAE,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YAC7B,QAAQ,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;SACnC,CAAC,CAAC;IAGJ,CAAC;IAED,2BAAO,GAAP;QAAA,iBAkCC;QAjCA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACpC,EAAE,EAAE,CAAE,GAAG,IAAI,GAAG,IAAI,SAAU,CAAC,CAAC,CAAC;gBAEhC,IAAI,EAAE,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC;gBACnC,IAAI,UAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC;gBAC/C,IAAI,KAAG,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;gBAErC,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAG,EAAE,EAAE,EAAE,UAAQ,CAAC,CAAC,SAAS,CAChD,cAAI;oBACH,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAG,CAAC,CAAC;oBACjC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;oBACrC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC9C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,UAAQ,CAAC,CAAC;oBACxC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACpC,CAAC,EACD,eAAK;oBACJ,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,IAAM,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBACnC,KAAK,EAAE,QAAQ;wBACf,QAAQ,EAAE,KAAK;wBACf,OAAO,EAAE,CAAC,IAAI,CAAC;qBACf,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;gBACjB,CAAC,CACD,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,KAAI,CAAC,OAAO,CAAC,IAAI,CAAE,eAAe,CAAE,CAAC;YACtC,CAAC;QAEF,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,yCAAqB,GAArB;QACC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACtC,OAAO,EAAE,UAAU;YACnB,OAAO,EAAE,gBAAgB;SACzB,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IACF,gBAAC;AAAD,CAAC;AAnEY,SAAS;IALrB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACD;KAC1B,CAAC;cAKiN;AA+DlN;SAnEY,SAAS,e","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage)\r\n  ],\r\n  exports: [\r\n    LoginPage\r\n  ]\r\n})\r\nexport class LoginPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, LoadingController, AlertController } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Authentification } from '../../providers/authentification/authentification';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-connexion',\r\n  templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\tconnectForm: any;\r\n\tloading: any;\r\n\r\n\tconstructor( public loadingCtrl: LoadingController, public alertCtrl: AlertController, private authApi: Authentification, public formBuilder: FormBuilder, private storage: Storage, public navCtrl: NavController ) {\r\n\t\tthis.storage.get('id_user').then((val) => {\r\n\t\t\tif( val || val != undefined) {\r\n\t\t\t\tthis.navCtrl.push('ListeNotePage');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.storage.clear();\r\n\r\n\t\tthis.connectForm = this.formBuilder.group({\r\n\t\t\t// url: ['', Validators.compose([Validators.required, Validators.pattern( '(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]\\.[^\\s]{2,})' )])],\r\n\t\t\turl: ['', Validators.required],\r\n\t\t\tid: ['', Validators.required],\r\n\t\t\tpassword: ['', Validators.required],\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tlogForm() {\r\n\t\tthis.storage.get('id_user').then((val) => {\r\n\t\t\tif( ! val || val == undefined ) {\r\n\r\n\t\t\t\tlet id = this.connectForm.value.id;\r\n\t\t\t\tlet password = this.connectForm.value.password;\r\n\t\t\t\tlet url = this.connectForm.value.url;\r\n\r\n\t\t\t\tthis.presentLoadingDefault();\r\n\t\t\t\tthis.authApi.connect(url, id, password).subscribe(\r\n\t\t\t\t\tdata => {\r\n\t\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\t\tthis.storage.set('url_web', url);\r\n\t\t\t\t\t\tthis.storage.set('id_user', data.id);\r\n\t\t\t\t\t\tthis.storage.set('login_user', data.username);\r\n\t\t\t\t\t\tthis.storage.set('name_user', data.name);\r\n\t\t\t\t\t\tthis.storage.set('pass_user', password);\r\n\t\t\t\t\t\tthis.navCtrl.push('ListeNotePage');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\t\tconst alert = this.alertCtrl.create({\r\n\t\t\t\t\t\t\ttitle: 'Erreur',\r\n\t\t\t\t\t\t\tsubTitle: error,\r\n\t\t\t\t\t\t\tbuttons: ['Ok']\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\talert.present();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.navCtrl.push( 'ListeNotePage' );\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpresentLoadingDefault() {\r\n\t\tthis.loading = this.loadingCtrl.create({\r\n\t\t\tspinner: 'crescent',\r\n\t\t\tcontent: 'Please wait...'\r\n\t\t});\r\n\r\n\t\tthis.loading.present();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}
<ion-header>

  <ion-navbar>
    <ion-title>{{note?.title}}</ion-title>
		<ion-buttons end (click)="presentActionSheet()">
			<button ion-button>
				<ion-icon name="more"></ion-icon>
			</button>
		</ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content>
	{{validation_status}}

	<ion-list inset>
		<ion-item>
			<ion-label>Status</ion-label>
			<ion-select [ngModel]="note?.validation_status" (ngModelChange)="updateValidationStatus($event)">
				<ion-option value="En cours">En cours</ion-option>
				<ion-option value="Validée">Validée</ion-option>
				<ion-option value="Payée">Payée</ion-option>
				<ion-option value="Refusée">Refusée</ion-option>
			</ion-select>
		</ion-item>
	</ion-list>

	<button ion-button (click)="addLigne()" class="marged"> <ion-icon name="add"></ion-icon> Ajouter une ligne</button>

	<ion-list>
		<ion-item (click)="openLigne(ligne)" *ngFor="let ligne of note?.children">
			<ion-thumbnail item-start>
				<img src="{{ligne.thumbnail_url}}">
			</ion-thumbnail>
			<h2>{{ ligne.title }}</h2>
			<p>{{ligne.tax_inclusive_amount}}€<sup>TTC</sup>  {{ligne.tax_amount}}€<sup>TVA</sup></p>
			<button ion-button clear item-end (click)="ligneOptions(ligne)"><ion-icon name="more"></ion-icon></button>
		</ion-item>
	</ion-list>

</ion-content>
